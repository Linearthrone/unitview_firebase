(()=>{var e={};e.id=574,e.ids=[574],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1630:e=>{"use strict";e.exports=require("http")},1645:e=>{"use strict";e.exports=require("net")},1820:e=>{"use strict";e.exports=require("os")},2843:(e,t,r)=>{Promise.resolve().then(r.bind(r,7330))},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3496:e=>{"use strict";e.exports=require("http2")},3873:e=>{"use strict";e.exports=require("path")},4075:e=>{"use strict";e.exports=require("zlib")},4631:e=>{"use strict";e.exports=require("tls")},4735:e=>{"use strict";e.exports=require("events")},5511:e=>{"use strict";e.exports=require("crypto")},5987:(e,t,r)=>{Promise.resolve().then(r.bind(r,7520))},6756:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(5239),a=r(8088),n=r(8170),i=r.n(n),o=r(893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["facility-setup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7330)),"C:\\Users\\kurtw\\source\\repos\\Linearthrone\\unitview_firebase\\src\\app\\facility-setup\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4431)),"C:\\Users\\kurtw\\source\\repos\\Linearthrone\\unitview_firebase\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\kurtw\\source\\repos\\Linearthrone\\unitview_firebase\\src\\app\\facility-setup\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/facility-setup/page",pathname:"/facility-setup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7330:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\kurtw\\\\source\\\\repos\\\\Linearthrone\\\\unitview_firebase\\\\src\\\\app\\\\facility-setup\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\kurtw\\source\\repos\\Linearthrone\\unitview_firebase\\src\\app\\facility-setup\\page.tsx","default")},7366:e=>{"use strict";e.exports=require("dns")},7520:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>E});var s=r(687),a=r(3210),n=r(9523);function i({open:e,onClose:t,onCreateUnit:r}){let[i,o]=(0,a.useState)({designation:"",roomCount:0,roomRanges:[""],nurseCardCount:2,pctCardCount:1,hasChargeNurse:!0,hasUnitClerk:!0}),[l,d]=(0,a.useState)({}),c=()=>{let e={};return i.designation.trim()||(e.designation="Unit designation is required"),i.roomCount<=0&&(e.roomCount="Number of rooms must be greater than 0"),0!==i.roomRanges.length&&i.roomRanges[0]?i.roomRanges.filter(e=>{if(!e)return!0;let t=e.split("-");if(2!==t.length)return!0;let[r,s]=t.map(e=>parseInt(e.trim(),10));return isNaN(r)||isNaN(s)||r>=s}).length>0&&(e.roomRanges='Room ranges must be in format "start-end" (e.g., 401-412)'):e.roomRanges="At least one room range is required",i.nurseCardCount<=0&&(e.nurseCardCount="Number of nurse cards must be greater than 0"),i.pctCardCount<0&&(e.pctCardCount="Number of PCT cards cannot be negative"),d(e),0===Object.keys(e).length},u=e=>{let{name:t,value:r,type:s}=e.target;if("checkbox"===s){let{checked:r}=e.target;o({...i,[t]:r})}else"roomRanges"===t?o({...i,roomRanges:r.split(",").map(e=>e.trim()).filter(Boolean)}):"roomCount"===t||"nurseCardCount"===t||"pctCardCount"===t?o({...i,[t]:parseInt(r,10)||0}):o({...i,[t]:r});l[t]&&d({...l,[t]:""})};return e?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Create New Unit"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c()&&(r(i),o({designation:"",roomCount:0,roomRanges:[""],nurseCardCount:2,pctCardCount:1,hasChargeNurse:!0,hasUnitClerk:!0}),d({}))},children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Unit Designation"}),(0,s.jsx)("input",{type:"text",name:"designation",value:i.designation,onChange:u,className:`w-full p-2 border rounded ${l.designation?"border-red-500":""}`,placeholder:"e.g., 4 West"}),l.designation&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:l.designation})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Number of Patient Rooms"}),(0,s.jsx)("input",{type:"number",name:"roomCount",value:i.roomCount,onChange:u,className:`w-full p-2 border rounded ${l.roomCount?"border-red-500":""}`,min:"1"}),l.roomCount&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:l.roomCount})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Room Number Range(s)"}),(0,s.jsx)("input",{type:"text",name:"roomRanges",value:i.roomRanges.join(", "),onChange:u,className:`w-full p-2 border rounded ${l.roomRanges?"border-red-500":""}`,placeholder:"e.g., 401-412, 450-455"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter ranges separated by commas (e.g., 401-412, 450-455)"}),l.roomRanges&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:l.roomRanges})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Standard Number of Nurse Cards"}),(0,s.jsx)("input",{type:"number",name:"nurseCardCount",value:i.nurseCardCount,onChange:u,className:`w-full p-2 border rounded ${l.nurseCardCount?"border-red-500":""}`,min:"1"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"1x3 cards with nurse name, spectra number, relief nurse, and patient assignments"}),l.nurseCardCount&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:l.nurseCardCount})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Number of PCT Cards"}),(0,s.jsx)("input",{type:"number",name:"pctCardCount",value:i.pctCardCount,onChange:u,className:`w-full p-2 border rounded ${l.pctCardCount?"border-red-500":""}`,min:"0"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"2x2 cards for patient care techs with name, spectra number, relief tech, and room assignments"}),l.pctCardCount&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:l.pctCardCount})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",name:"hasChargeNurse",checked:i.hasChargeNurse,onChange:u,className:"mr-2",id:"hasChargeNurse"}),(0,s.jsx)("label",{className:"text-sm font-medium",htmlFor:"hasChargeNurse",children:"Include Charge Nurse Card (2x1)"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",name:"hasUnitClerk",checked:i.hasUnitClerk,onChange:u,className:"mr-2",id:"hasUnitClerk"}),(0,s.jsx)("label",{className:"text-sm font-medium",htmlFor:"hasUnitClerk",children:"Include Unit Clerk Card (2x1)"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,s.jsx)(n.$,{variant:"outline",type:"button",onClick:t,children:"Cancel"}),(0,s.jsx)(n.$,{type:"submit",children:"Create Unit"})]})]})]})}):null}var o=r(569),l=r(8599),d=r(1273),c=r(5551),u=r(6156),m=r(4163),x="Switch",[p,h]=(0,d.A)(x),[b,g]=p(x),f=a.forwardRef((e,t)=>{let{__scopeSwitch:r,name:n,checked:i,defaultChecked:d,required:u,disabled:p,value:h="on",onCheckedChange:g,form:f,...C}=e,[j,y]=a.useState(null),w=(0,l.s)(t,e=>y(e)),k=a.useRef(!1),R=!j||f||!!j.closest("form"),[S,q]=(0,c.i)({prop:i,defaultProp:d??!1,onChange:g,caller:x});return(0,s.jsxs)(b,{scope:r,checked:S,disabled:p,children:[(0,s.jsx)(m.sG.button,{type:"button",role:"switch","aria-checked":S,"aria-required":u,"data-state":v(S),"data-disabled":p?"":void 0,disabled:p,value:h,...C,ref:w,onClick:(0,o.m)(e.onClick,e=>{q(e=>!e),R&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),R&&(0,s.jsx)(N,{control:j,bubbles:!k.current,name:n,value:h,checked:S,required:u,disabled:p,form:f,style:{transform:"translateX(-100%)"}})]})});f.displayName=x;var C="SwitchThumb",j=a.forwardRef((e,t)=>{let{__scopeSwitch:r,...a}=e,n=g(C,r);return(0,s.jsx)(m.sG.span,{"data-state":v(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:t})});j.displayName=C;var N=a.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},o)=>{let d=a.useRef(null),c=(0,l.s)(d,o),m=function(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r),x=function(e){let[t,r]=a.useState(void 0);return(0,u.N)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let s,a;if(!Array.isArray(t)||!t.length)return;let n=t[0];if("borderBoxSize"in n){let e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,a=t.blockSize}else s=e.offsetWidth,a=e.offsetHeight;r({width:s,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}(t);return a.useEffect(()=>{let e=d.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(m!==r&&t){let s=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(s)}},[m,r,n]),(0,s.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:c,style:{...i.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function v(e){return e?"checked":"unchecked"}N.displayName="SwitchBubbleInput";var y=r(4780);let w=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(f,{className:(0,y.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:(0,s.jsx)(j,{className:(0,y.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));function k({module:e,onToggle:t}){return(0,s.jsxs)("div",{className:`border rounded-lg p-4 ${e.enabled?"border-blue-500 bg-blue-50":"border-gray-200"}`,children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsx)("h3",{className:"font-medium text-lg",children:e.name}),(0,s.jsx)(w,{checked:e.enabled,onCheckedChange:t,className:"data-[state=checked]:bg-blue-600"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${e.enabled?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:e.enabled?"Enabled":"Disabled"})})]})}w.displayName=f.displayName;var R=r(1568);function S({unit:e,isSelected:t,onSelect:r}){return(0,s.jsxs)("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${t?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"}`,onClick:r,children:[(0,s.jsx)("h3",{className:"font-medium text-lg",children:e.designation}),(0,s.jsxs)("div",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[(0,s.jsxs)("p",{children:["Rooms: ",e.roomCount]}),(0,s.jsxs)("p",{children:["Room Range: ",e.roomRanges.join(", ")]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[(0,s.jsxs)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:[e.nurseCardCount," Nurse Cards"]}),(0,s.jsxs)("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:[e.pctCardCount," PCT Cards"]}),e.hasChargeNurse&&(0,s.jsx)("span",{className:"bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full",children:"Charge Nurse"}),e.hasUnitClerk&&(0,s.jsx)("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:"Unit Clerk"})]})]}),t&&(0,s.jsx)("div",{className:"mt-3 text-blue-600 text-sm font-medium",children:"Currently Selected"}),e.createdAt&&(0,s.jsxs)("div",{className:"mt-2 text-xs text-gray-400",children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]})}var q=r(3784),P=r(140),U=r(5726);function E(){let[e,t]=(0,a.useState)([]),[r,o]=(0,a.useState)([]),[l,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(null),[m,x]=(0,a.useState)(!0),p=async e=>{try{(0,P.oR)({title:"Creating Unit",description:"Please wait while we set up your unit..."});let r=await (0,q.Dq)(e);t(e=>[...e,r]),u(r),d(!1),(0,P.oR)({title:"Success",description:`Unit "${r.designation}" has been created.`})}catch(e){console.error("Error creating unit:",e),(0,P.oR)({title:"Error",description:"Failed to create unit. Please try again.",variant:"destructive"})}},h=async e=>{try{let t=r.find(t=>t.id===e);if(!t)return;o(r.map(t=>t.id===e?{...t,enabled:!t.enabled}:t)),await (0,q.YB)(e,!t.enabled),(0,P.oR)({title:"Module Updated",description:`${t.name} has been ${!t.enabled?"enabled":"disabled"}.`})}catch(e){console.error("Error toggling module:",e),o(e=>[...e]),(0,P.oR)({title:"Error",description:"Failed to update module. Please try again.",variant:"destructive"})}},b=e=>{u(e)};return m?(0,s.jsxs)("div",{className:"container mx-auto p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsx)(U.E,{className:"h-10 w-48"}),(0,s.jsx)(U.E,{className:"h-10 w-32"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(U.E,{className:"h-8 w-24 mb-4"}),[1,2,3].map(e=>(0,s.jsx)(U.E,{className:"h-24 w-full rounded-lg"},e))]}),(0,s.jsxs)("div",{className:"lg:col-span-2",children:[(0,s.jsx)(U.E,{className:"h-8 w-48 mb-4"}),(0,s.jsx)(U.E,{className:"h-64 w-full rounded-lg"})]})]})]}):(0,s.jsxs)("div",{className:"container mx-auto p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Facility Setup"}),(0,s.jsx)(n.$,{onClick:()=>d(!0),children:"Create New Unit"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Units"}),e.length>0?e.map(e=>(0,s.jsx)(S,{unit:e,isSelected:c?.id===e.id,onSelect:()=>b(e)},e.id)):(0,s.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-6 text-center",children:[(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"No units have been created yet."}),(0,s.jsx)(n.$,{variant:"outline",onClick:()=>d(!0),children:"Create Your First Unit"})]})]}),(0,s.jsxs)("div",{className:"lg:col-span-2",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:c?`${c.designation} Layout`:"Select a Unit"}),c?(0,s.jsx)(R.I,{unitId:c.id}):(0,s.jsx)("div",{className:"bg-gray-50 border rounded-lg p-12 text-center",children:(0,s.jsx)("p",{className:"text-gray-500 mb-2",children:"Select a unit from the sidebar or create a new unit to view the layout."})})]})]}),(0,s.jsxs)("div",{className:"mt-12",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Module Configuration"}),r.length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(e=>(0,s.jsx)(k,{module:e,onToggle:()=>h(e.id)},e.id))}):(0,s.jsx)("div",{className:"bg-gray-50 border rounded-lg p-6 text-center",children:(0,s.jsx)("p",{className:"text-gray-500",children:"No modules available."})})]}),(0,s.jsx)(i,{open:l,onClose:()=>d(!1),onCreateUnit:p})]})}},7910:e=>{"use strict";e.exports=require("stream")},8354:e=>{"use strict";e.exports=require("util")},9021:e=>{"use strict";e.exports=require("fs")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")},9771:e=>{"use strict";e.exports=require("process")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[664,655,244,607,784],()=>r(6756));module.exports=s})();