"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382],{285:(e,t,a)=>{a.d(t,{$:()=>l});var s=a(5155),r=a(2115),n=a(2085),i=a(9434);let d=(0,n.F)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=r.forwardRef((e,t)=>{let{className:a,variant:r,size:n,asChild:l=!1,...o}=e;return(0,s.jsx)("button",{className:(0,i.cn)(d({variant:r,size:n}),a),ref:t,...o})});l.displayName="Button"},5382:(e,t,a)=>{a.d(t,{I:()=>g});var s=a(5155),r=a(2115),n=a(285);function i(e){let{nurse:t,patients:a,onAssign:i,onUnassign:d,onUpdate:l,editMode:o}=e,[c,u]=(0,r.useState)(!1),m=t.assignedRooms.reduce((e,t)=>{let s=a.find(e=>e.roomNumber===t);return e+(s?s.acuity:0)},0),p=m>t.acuityCapacity;return(0,s.jsxs)("div",{className:"border rounded-lg p-4 ".concat(p?"border-red-500 bg-red-50":"border-blue-200"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,s.jsx)("h4",{className:"font-medium",children:"Nurse Assignment"}),p&&(0,s.jsx)("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full",children:"Acuity Alert"})]}),(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-500",children:"Name"}),o?(0,s.jsx)("input",{type:"text",value:t.name,onChange:e=>{l({name:e.target.value})},className:"w-full p-1 border rounded text-sm"}):(0,s.jsx)("p",{className:"font-medium",children:t.name||"Unassigned"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-500",children:"Spectra #"}),o?(0,s.jsx)("input",{type:"text",value:t.spectraNumber,onChange:e=>{l({spectraNumber:e.target.value})},className:"w-full p-1 border rounded text-sm"}):(0,s.jsx)("p",{className:"text-sm",children:t.spectraNumber||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-500",children:"Relief"}),o?(0,s.jsx)("input",{type:"text",value:t.reliefName,onChange:e=>{l({reliefName:e.target.value})},className:"w-full p-1 border rounded text-sm"}):(0,s.jsx)("p",{className:"text-sm",children:t.reliefName||"None"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-500",children:"Acuity Capacity"}),o?(0,s.jsx)("input",{type:"number",value:t.acuityCapacity,onChange:e=>{l({acuityCapacity:parseInt(e.target.value,10)||0})},className:"w-full p-1 border rounded text-sm",min:"1"}):(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,s.jsx)("div",{className:"h-2.5 rounded-full ".concat(p?"bg-red-600":"bg-blue-600"),style:{width:"".concat(Math.min(100,m/t.acuityCapacity*100),"%")}})}),(0,s.jsxs)("span",{className:"ml-2 text-xs font-medium",children:[m,"/",t.acuityCapacity]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("label",{className:"text-xs text-gray-500",children:"Patient Assignments"}),!o&&(0,s.jsx)(n.$,{variant:"outline",size:"sm",className:"text-xs py-1 h-auto",onClick:()=>u(!c),children:c?"Done":"Assign"})]}),(0,s.jsx)("div",{className:"space-y-1 mb-3",children:t.assignedRooms.length>0?t.assignedRooms.map(e=>{let t=a.find(t=>t.roomNumber===e);return(0,s.jsxs)("div",{className:"flex justify-between items-center p-1.5 bg-gray-50 rounded border",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("span",{className:"font-medium text-sm",children:["Room ",e]}),(null==t?void 0:t.name)&&(0,s.jsx)("span",{className:"ml-2 text-xs",children:t.name})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[t&&(0,s.jsx)("span",{className:"px-1.5 py-0.5 rounded-full text-xs mr-2 ".concat(t.acuity>=4?"bg-red-100 text-red-800":t.acuity>=3?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:t.acuity}),!o&&(0,s.jsx)("button",{onClick:()=>d(e),className:"text-red-500 text-xs hover:text-red-700","aria-label":"Remove patient assignment",children:"\xd7"})]})]},e)}):(0,s.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No patients assigned"})}),c&&!o&&(0,s.jsxs)("div",{className:"mt-3 border-t pt-2",children:[(0,s.jsx)("p",{className:"text-xs font-medium mb-2",children:"Select a patient to assign:"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-1",children:a.filter(e=>!e.assigned).map(e=>(0,s.jsxs)("button",{onClick:()=>{i(e.id),t.assignedRooms.length>=5&&u(!1)},className:"text-xs p-1 border rounded hover:bg-blue-50 flex justify-between items-center",children:[(0,s.jsxs)("span",{children:["Room ",e.roomNumber]}),(0,s.jsx)("span",{className:"px-1.5 py-0.5 rounded-full text-xs ".concat(e.acuity>=4?"bg-red-100 text-red-800":e.acuity>=3?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.acuity})]},e.id))})]})]})]})}function d(e){let{pct:t,onUpdate:a,editMode:r}=e;return(0,s.jsxs)("div",{className:"border border-green-200 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Patient Care Tech"}),(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-500",children:"Name"}),r?(0,s.jsx)("input",{type:"text",value:t.name,onChange:e=>{a({name:e.target.value})},className:"w-full p-1 border rounded text-sm"}):(0,s.jsx)("p",{className:"font-medium",children:t.name||"Unassigned"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-500",children:"Spectra #"}),r?(0,s.jsx)("input",{type:"text",value:t.spectraNumber,onChange:e=>{a({spectraNumber:e.target.value})},className:"w-full p-1 border rounded text-sm"}):(0,s.jsx)("p",{className:"text-sm",children:t.spectraNumber||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-500",children:"Relief"}),r?(0,s.jsx)("input",{type:"text",value:t.reliefName,onChange:e=>{a({reliefName:e.target.value})},className:"w-full p-1 border rounded text-sm"}):(0,s.jsx)("p",{className:"text-sm",children:t.reliefName||"None"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Room Assignment"}),r?(0,s.jsx)("input",{type:"text",value:t.roomRange,onChange:e=>{a({roomRange:e.target.value})},className:"w-full p-1 border rounded text-sm",placeholder:"e.g., 401-412"}):(0,s.jsx)("div",{className:"bg-green-50 border border-green-200 rounded p-2 text-center",children:(0,s.jsxs)("span",{className:"font-medium",children:["Rooms ",t.roomRange]})})]})]})}function l(e){let{title:t,staffMember:a,onUpdate:r,editMode:n,size:i="normal"}=e;return(0,s.jsxs)("div",{className:"border ".concat("Charge Nurse"===t?"border-purple-200":"border-yellow-200"," rounded-lg p-4 ").concat("small"===i?"col-span-1":"col-span-1 md:col-span-2"),children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:t}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-500",children:"Name"}),n?(0,s.jsx)("input",{type:"text",value:a.name,onChange:e=>{r({name:e.target.value})},className:"w-full p-1 border rounded text-sm"}):(0,s.jsx)("p",{className:"font-medium",children:a.name||"Unassigned"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-500",children:"Spectra #"}),n?(0,s.jsx)("input",{type:"text",value:a.spectraNumber,onChange:e=>{r({spectraNumber:e.target.value})},className:"w-full p-1 border rounded text-sm"}):(0,s.jsx)("p",{className:"text-sm",children:a.spectraNumber||"N/A"})]})]}),"chargeNurse"===a.role&&(0,s.jsx)("div",{className:"mt-3 pt-2 border-t border-purple-100",children:(0,s.jsx)("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:"Unit Supervisor"})})]})}var o=a(6104),c=a(8262);let u=async e=>{let t=[];for(let a of e.roomRanges){let[s,r]=a.split("-").map(e=>parseInt(e,10));for(let a=s;a<=r;a++){let s={unitId:e.id,roomNumber:a.toString(),name:"",acuity:Math.floor(5*Math.random())+1,assigned:!1};try{let e=await (0,o.WB)(s);t.push(e)}catch(e){console.error("Error creating patient:",e)}}}return t},m=async e=>{let t=[];for(let a=0;a<e.nurseCardCount;a++){let s={unitId:e.id,name:"Nurse ".concat(a+1),spectraNumber:"SN".concat(1e4+a),reliefName:"",assignedRooms:[],acuityCapacity:12};try{let e=await (0,o.eR)(s);t.push(e)}catch(e){console.error("Error creating nurse:",e)}}return t},p=async e=>{let t=[];for(let a=0;a<e.pctCardCount;a++){let s=a%e.roomRanges.length,[r,n]=e.roomRanges[s].split("-").map(e=>parseInt(e,10)),i=Math.ceil((n-r+1)/e.pctCardCount),d=r+a*i,l=Math.min(d+i-1,n),c={unitId:e.id,name:"PCT ".concat(a+1),spectraNumber:"PCT".concat(1e4+a),reliefName:"",roomRange:"".concat(d,"-").concat(l)};try{let e=await (0,o.kv)(c);t.push(e)}catch(e){console.error("Error creating PCT:",e)}}return t},x=async e=>{let t=null,a=null;if(e.hasChargeNurse)try{t=await (0,o.lx)({unitId:e.id,name:"",spectraNumber:"",role:"chargeNurse"})}catch(e){console.error("Error creating charge nurse:",e)}if(e.hasUnitClerk)try{a=await (0,o.lx)({unitId:e.id,name:"",spectraNumber:"",role:"unitClerk"})}catch(e){console.error("Error creating unit clerk:",e)}return{chargeNurse:t,unitClerk:a}};function g(e){let{unitId:t}=e,[a,g]=(0,r.useState)(null),[h,f]=(0,r.useState)([]),[b,y]=(0,r.useState)([]),[N,v]=(0,r.useState)([]),[j,w]=(0,r.useState)(null),[C,R]=(0,r.useState)(null),[A,k]=(0,r.useState)(!1),[S,E]=(0,r.useState)(!0),[I,D]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(t)try{E(!0);let e=await (0,o.l_)(t);if(!e)return void(0,c.oR)({title:"Error",description:"Unit not found",variant:"destructive"});g(e);let a=await (0,o.QC)(t);f(a);let s=await (0,o.CF)(t);y(s);let r=await (0,o.Ko)(t);v(r);let n=await (0,o.Ld)(t,"chargeNurse");w(n);let i=await (0,o.Ld)(t,"unitClerk");R(i),0===a.length&&0===s.length&&(D(!0),await T(e),D(!1))}catch(e){console.error("Error loading unit data:",e),(0,c.oR)({title:"Error",description:"Failed to load unit data",variant:"destructive"})}finally{E(!1)}})()},[t]);let T=async e=>{try{let t=await u(e);f(t);let a=await m(e);y(a);let s=await p(e);v(s);let{chargeNurse:r,unitClerk:n}=await x(e);w(r),R(n),(0,c.oR)({title:"Unit Initialized",description:"Unit data has been created successfully"})}catch(e){console.error("Error initializing unit data:",e),(0,c.oR)({title:"Error",description:"Failed to initialize unit data",variant:"destructive"})}},M=async(e,t)=>{try{let a=b.find(t=>t.id===e),s=h.find(e=>e.id===t);if(!a||!s)return;let r=[...a.assignedRooms];r.includes(s.roomNumber)||(r.push(s.roomNumber),r.sort((e,t)=>parseInt(e)-parseInt(t))),await (0,o.Dr)(e,{assignedRooms:r}),await (0,o.Z6)(t,{assigned:!0}),y(b.map(t=>t.id===e?{...t,assignedRooms:r}:t)),f(h.map(e=>e.id===t?{...e,assigned:!0}:e))}catch(e){console.error("Error assigning patient:",e),(0,c.oR)({title:"Error",description:"Failed to assign patient",variant:"destructive"})}},U=async(e,t)=>{try{let a=b.find(t=>t.id===e),s=h.find(e=>e.roomNumber===t);if(!a||!s)return;let r=a.assignedRooms.filter(e=>e!==t);await (0,o.Dr)(e,{assignedRooms:r}),await (0,o.Z6)(s.id,{assigned:!1}),y(b.map(t=>t.id===e?{...t,assignedRooms:r}:t)),f(h.map(e=>e.roomNumber===t?{...e,assigned:!1}:e))}catch(e){console.error("Error unassigning patient:",e),(0,c.oR)({title:"Error",description:"Failed to unassign patient",variant:"destructive"})}},_=async(e,t)=>{try{await (0,o.Dr)(e,t),y(b.map(a=>a.id===e?{...a,...t}:a)),(0,c.oR)({title:"Nurse Updated",description:"Nurse information has been updated"})}catch(e){console.error("Error updating nurse:",e),(0,c.oR)({title:"Error",description:"Failed to update nurse information",variant:"destructive"})}},P=async(e,t)=>{try{await (0,o.B5)(e,t),v(N.map(a=>a.id===e?{...a,...t}:a)),(0,c.oR)({title:"PCT Updated",description:"PCT information has been updated"})}catch(e){console.error("Error updating PCT:",e),(0,c.oR)({title:"Error",description:"Failed to update PCT information",variant:"destructive"})}},G=async e=>{try{if(!j)return;await (0,o.e4)(j.id,e),w({...j,...e}),(0,c.oR)({title:"Charge Nurse Updated",description:"Charge nurse information has been updated"})}catch(e){console.error("Error updating charge nurse:",e),(0,c.oR)({title:"Error",description:"Failed to update charge nurse information",variant:"destructive"})}},B=async e=>{try{if(!C)return;await (0,o.e4)(C.id,e),R({...C,...e}),(0,c.oR)({title:"Unit Clerk Updated",description:"Unit clerk information has been updated"})}catch(e){console.error("Error updating unit clerk:",e),(0,c.oR)({title:"Error",description:"Failed to update unit clerk information",variant:"destructive"})}},F=()=>{k(!1),(0,c.oR)({title:"Layout Saved",description:"Unit layout has been saved successfully"})};return S||I?(0,s.jsx)("div",{className:"bg-white rounded-lg border p-4 flex items-center justify-center h-64",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 border-4 border-t-blue-600 border-blue-200 rounded-full animate-spin mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-gray-600",children:I?"Initializing unit data...":"Loading..."})]})}):a?(0,s.jsxs)("div",{className:"bg-white rounded-lg border p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold",children:[a.designation," Patient Grid"]}),(0,s.jsx)(n.$,{variant:A?"default":"outline",onClick:()=>A?F():k(!0),children:A?"Save Layout":"Edit Layout"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Unassigned Patients"}),(0,s.jsxs)("div",{className:"space-y-2",children:[h.filter(e=>!e.assigned).map(e=>(0,s.jsxs)("div",{className:"flex justify-between items-center p-2 border rounded bg-gray-50",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"font-medium",children:["Room ",e.roomNumber]}),e.name&&(0,s.jsx)("span",{className:"ml-2 text-sm",children:e.name})]}),(0,s.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(e.acuity>=4?"bg-red-100 text-red-800":e.acuity>=3?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:["Acuity ",e.acuity]})]},e.id)),0===h.filter(e=>!e.assigned).length&&(0,s.jsx)("p",{className:"text-sm text-gray-500 italic",children:"All patients assigned"})]})]}),b.map(e=>(0,s.jsx)(i,{nurse:e,patients:h,onAssign:t=>M(e.id,t),onUnassign:t=>U(e.id,t),onUpdate:t=>_(e.id,t),editMode:A},e.id)),N.map(e=>(0,s.jsx)(d,{pct:e,onUpdate:t=>P(e.id,t),editMode:A},e.id)),j&&(0,s.jsx)(l,{title:"Charge Nurse",staffMember:j,onUpdate:G,editMode:A,size:"small"}),C&&(0,s.jsx)(l,{title:"Unit Clerk",staffMember:C,onUpdate:B,editMode:A,size:"small"})]})]}):(0,s.jsx)("div",{className:"bg-white rounded-lg border p-4",children:(0,s.jsx)("p",{className:"text-center text-gray-500",children:"Unit not found"})})}},6104:(e,t,a)=>{a.d(t,{B5:()=>A,CF:()=>j,Dq:()=>g,Dr:()=>w,Ko:()=>R,Ld:()=>S,QC:()=>y,WB:()=>b,WM:()=>M,YB:()=>D,YU:()=>h,Z6:()=>N,e4:()=>E,eI:()=>I,eR:()=>v,kv:()=>C,l_:()=>f,lx:()=>k});var s=a(3915),r=a(5317),n=a(858),i=a(3004);let d=0===(0,s.Dk)().length?(0,s.Wp)({apiKey:"AIzaSyDkfXVHFo7tR9oV0Cd-lVtXhDFDe9_yO_I",authDomain:"unitview.firebaseapp.com",databaseURL:"https://unitview-default-rtdb.firebaseio.com",projectId:"unitview",storageBucket:"unitview.firebasestorage.app",messagingSenderId:"185648925766",appId:"1:185648925766:web:5ae6271dd4977f6e158e47"}):(0,s.Dk)()[0],l=(0,r.aU)(d);(0,n.c7)(d),(0,i.xI)(d);let o=(0,r.rJ)(l,"units"),c=(0,r.rJ)(l,"patients"),u=(0,r.rJ)(l,"nurses"),m=(0,r.rJ)(l,"pcts"),p=(0,r.rJ)(l,"staff"),x=(0,r.rJ)(l,"modules");async function g(e){let t=Date.now(),a=(0,r.H9)(o),s={...e,id:a.id,createdAt:t,updatedAt:t};return await (0,r.BN)(a,s),s}async function h(){return(await (0,r.GG)(o)).docs.map(e=>e.data())}async function f(e){let t=(0,r.H9)(o,e),a=await (0,r.x7)(t);return a.exists()?a.data():null}async function b(e){let t=Date.now(),a=(0,r.H9)(c),s={...e,id:a.id,createdAt:t,updatedAt:t};return await (0,r.BN)(a,s),s}async function y(e){let t=(0,r.P)(c,(0,r._M)("unitId","==",e));return(await (0,r.GG)(t)).docs.map(e=>e.data())}async function N(e,t){let a=(0,r.H9)(c,e);await (0,r.mZ)(a,{...t,updatedAt:Date.now()})}async function v(e){let t=Date.now(),a=(0,r.H9)(u),s={...e,id:a.id,createdAt:t,updatedAt:t};return await (0,r.BN)(a,s),s}async function j(e){let t=(0,r.P)(u,(0,r._M)("unitId","==",e));return(await (0,r.GG)(t)).docs.map(e=>e.data())}async function w(e,t){let a=(0,r.H9)(u,e);await (0,r.mZ)(a,{...t,updatedAt:Date.now()})}async function C(e){let t=Date.now(),a=(0,r.H9)(m),s={...e,id:a.id,createdAt:t,updatedAt:t};return await (0,r.BN)(a,s),s}async function R(e){let t=(0,r.P)(m,(0,r._M)("unitId","==",e));return(await (0,r.GG)(t)).docs.map(e=>e.data())}async function A(e,t){let a=(0,r.H9)(m,e);await (0,r.mZ)(a,{...t,updatedAt:Date.now()})}async function k(e){let t=Date.now(),a=(0,r.H9)(p),s={...e,id:a.id,createdAt:t,updatedAt:t};return await (0,r.BN)(a,s),s}async function S(e,t){let a=(0,r.P)(p,(0,r._M)("unitId","==",e),(0,r._M)("role","==",t)),s=await (0,r.GG)(a);return s.empty?null:s.docs[0].data()}async function E(e,t){let a=(0,r.H9)(p,e);await (0,r.mZ)(a,{...t,updatedAt:Date.now()})}async function I(){return(await (0,r.GG)(x)).docs.map(e=>e.data())}async function D(e,t){let a=(0,r.H9)(x,e);await (0,r.mZ)(a,{enabled:t,updatedAt:Date.now()})}async function T(e){let t=Date.now(),a=e.map(async e=>{let a=(0,r.H9)(x,e.id);(await (0,r.x7)(a)).exists()||await (0,r.BN)(a,{...e,updatedAt:t})});await Promise.all(a)}async function M(){await T([{id:"mock-patient",name:"Mock Patient Data",description:"Generate mock patient data for testing",enabled:!0},{id:"spectra-pool",name:"Spectra Pool Management",description:"Manage spectra pool assignments",enabled:!1},{id:"acuity-tracking",name:"Acuity Tracking",description:"Track and manage patient acuity levels",enabled:!0},{id:"bed-management",name:"Bed Management",description:"Track bed availability and assignments",enabled:!0},{id:"staff-messaging",name:"Staff Messaging",description:"Internal messaging system for staff",enabled:!1}])}},8262:(e,t,a)=>{a.d(t,{dj:()=>m,oR:()=>u});var s=a(2115);let r=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},5e3);n.set(e,t)},d=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,5)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],o={toasts:[]};function c(e){o=d(o,e),l.forEach(e=>{e(o)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(o);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},9434:(e,t,a)=>{a.d(t,{cn:()=>n});var s=a(2596),r=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}}}]);