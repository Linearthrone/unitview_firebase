(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{2394:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>u});var s=t(5155),n=t(2115),i=t(5382),d=t(7548),l=t(8262),r=t(8856);function c(){return(0,s.jsxs)("div",{className:"container mx-auto p-6",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)(r.E,{className:"h-8 w-48 mb-2"}),(0,s.jsx)(r.E,{className:"h-4 w-96"})]}),(0,s.jsx)(r.E,{className:"h-10 w-full max-w-xs mb-6"}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow p-8",children:(0,s.jsx)("div",{className:"flex items-center justify-center h-[50vh]",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-t-blue-600 border-blue-200 rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading units..."})]})})})]})}function o(){return(0,s.jsx)("div",{className:"container mx-auto p-6",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"UnitView"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"No units have been created yet. Please go to Facility Setup to create a unit."}),(0,s.jsx)("a",{href:"/facility-setup",className:"inline-block bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Go to Facility Setup"})]})})}function u(){let[e,a]=(0,n.useState)([]),[t,r]=(0,n.useState)(null),[u,m]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{(async()=>{try{m(!0);let e=await (0,d.YU)();console.log("UnitView - Loaded units:",e),a(e),e.length>0&&!t&&r(e[0])}catch(e){console.error("Error loading units:",e),(0,l.oR)({title:"Error",description:"Failed to load units. Please try again.",variant:"destructive"})}finally{m(!1)}})()},[]),u)?(0,s.jsx)(c,{}):0===e.length?(0,s.jsx)(o,{}):(0,s.jsxs)("div",{className:"container mx-auto p-6",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"UnitView"}),(0,s.jsx)("p",{className:"text-gray-600",children:"View and manage patient assignments for nursing units."})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Select Unit"}),(0,s.jsx)("select",{className:"border rounded-md p-2 w-full max-w-xs",value:(null==t?void 0:t.id)||"",onChange:a=>{let t=e.find(e=>e.id===a.target.value);t&&r(t)},children:e.map(e=>(0,s.jsx)("option",{value:e.id,children:e.designation},e.id))})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)("div",{className:"p-8 flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-12 h-12 border-4 border-t-blue-600 border-blue-200 rounded-full animate-spin"})}),children:t?(0,s.jsx)(i.I,{unitId:t.id}):(0,s.jsx)("div",{className:"p-8 text-center",children:(0,s.jsx)("p",{className:"text-gray-500",children:"Please select a unit to view"})})})})]})}},4153:(e,a,t)=>{Promise.resolve().then(t.bind(t,2394))},7548:(e,a,t)=>{"use strict";t.d(a,{Dq:()=>h,WM:()=>w,YB:()=>g,YU:()=>b,eI:()=>f});var s=t(3915),n=t(5317),i=t(7505),d=t(4903);let l=0===(0,s.Dk)().length?(0,s.Wp)({apiKey:"AIzaSyARvbAJtv-NBJnJQ3EdZNU3WsMnXThFzhM",authDomain:"unitview.firebaseapp.com",databaseURL:"https://unitview-default-rtdb.firebaseio.com",projectId:"unitview",storageBucket:"unitview.firebasestorage.app",messagingSenderId:"185648925766",appId:"1:185648925766:web:5ae6271dd4977f6e158e47"}):(0,s.Dk)()[0],r=(0,n.aU)(l);(0,i.c7)(l),(0,d.xI)(l);let c=(0,n.rJ)(r,"units"),o=(0,n.rJ)(r,"patients"),u=(0,n.rJ)(r,"nurses"),m=(0,n.rJ)(r,"pcts"),x=(0,n.rJ)(r,"staff"),p=(0,n.rJ)(r,"modules");async function h(e){let a=Date.now(),t=(0,n.H9)(c),s={...e,id:t.id,createdAt:a,updatedAt:a};return await (0,n.BN)(t,s),s}async function b(){return(await (0,n.GG)(c)).docs.map(e=>e.data())}async function f(){return(await (0,n.GG)(p)).docs.map(e=>e.data())}async function g(e,a){let t=(0,n.H9)(p,e);await (0,n.mZ)(t,{enabled:a,updatedAt:Date.now()})}async function v(e){let a=Date.now(),t=(0,n.wP)(r);for(let s of e){let e=(0,n.H9)(p,s.id);(await (0,n.x7)(e)).exists()||t.set(e,{...s,updatedAt:a})}await t.commit()}async function w(){await v([{id:"mock-patient",name:"Mock Patient Data",description:"Generate mock patient data for testing",enabled:!0},{id:"spectra-pool",name:"Spectra Pool Management",description:"Manage spectra pool assignments",enabled:!1},{id:"acuity-tracking",name:"Acuity Tracking",description:"Track and manage patient acuity levels",enabled:!0},{id:"bed-management",name:"Bed Management",description:"Track bed availability and assignments",enabled:!0},{id:"staff-messaging",name:"Staff Messaging",description:"Internal messaging system for staff",enabled:!1}])}},8856:(e,a,t)=>{"use strict";t.d(a,{E:()=>i});var s=t(5155),n=t(9434);function i(e){let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-gray-200",a),...t})}}},e=>{var a=a=>e(e.s=a);e.O(0,[135,210,3,377,382,441,684,358],()=>a(4153)),_N_E=e.O()}]);