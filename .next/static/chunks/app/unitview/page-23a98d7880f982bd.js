(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{2394:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u});var t=a(5155),l=a(2115),i=a(6682),n=a(2732),r=a(8262),d=a(8856);function c(){return(0,t.jsxs)("div",{className:"container mx-auto p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)(d.E,{className:"h-8 w-48 mb-2"}),(0,t.jsx)(d.E,{className:"h-4 w-96"})]}),(0,t.jsx)(d.E,{className:"h-10 w-full max-w-xs mb-6"}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-8",children:(0,t.jsx)("div",{className:"flex items-center justify-center h-[50vh]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-t-blue-600 border-blue-200 rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading units..."})]})})})]})}function o(){return(0,t.jsx)("div",{className:"container mx-auto p-6",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"UnitView"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"No units have been created yet. Please go to Facility Setup to create a unit."}),(0,t.jsx)("a",{href:"/facility-setup",className:"inline-block bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Go to Facility Setup"})]})})}function u(){let[e,s]=(0,l.useState)([]),[a,d]=(0,l.useState)(null),[u,m]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{(async()=>{try{m(!0);let e=await (0,n.YU)();s(e),e.length>0&&!a&&d(e[0])}catch(e){console.error("Error loading units:",e),(0,r.oR)({title:"Error",description:"Failed to load units. Please try again.",variant:"destructive"})}finally{m(!1)}})()},[]),u)?(0,t.jsx)(c,{}):0===e.length?(0,t.jsx)(o,{}):(0,t.jsxs)("div",{className:"container mx-auto p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"UnitView"}),(0,t.jsx)("p",{className:"text-gray-600",children:"View and manage patient assignments for nursing units."})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Select Unit"}),(0,t.jsx)("select",{className:"border rounded-md p-2 w-full max-w-xs",value:(null==a?void 0:a.id)||"",onChange:s=>{let a=e.find(e=>e.id===s.target.value);a&&d(a)},children:e.map(e=>(0,t.jsx)("option",{value:e.id,children:e.designation},e.id))})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,t.jsx)(l.Suspense,{fallback:(0,t.jsx)("div",{className:"p-8 flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-t-blue-600 border-blue-200 rounded-full animate-spin"})}),children:a?(0,t.jsx)(i.I,{unitId:a.id}):(0,t.jsx)("div",{className:"p-8 text-center",children:(0,t.jsx)("p",{className:"text-gray-500",children:"Please select a unit to view"})})})})]})}},9079:(e,s,a)=>{Promise.resolve().then(a.bind(a,2394))}},e=>{var s=s=>e(e.s=s);e.O(0,[135,210,3,377,937,503,441,684,358],()=>s(9079)),_N_E=e.O()}]);